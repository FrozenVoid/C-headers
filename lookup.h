#pragma once
//lookup tables:
#include "argmanip.h" //for front slice
/* lookup table for dividing integers to 1024
e.g. instead of 2.0/3(where 3 is a dynamic var)
2.0*divide_double[3]-> 2.0*0.3333333333
Most compilers will manage to avoid (slow) floating
point division unless the divisor is dynamically
cast or created during runtime; in that case
the lookup table will be faster.
the lookup table is generated by a macro
which creates the constant array.

gen_lookup_div(name,type,maxdiv)
example;
gen_lookup_div(divide_double,double,1023) //more than 1023 is not supported
-> const double divide_double[1024]={divisors}
*/


#define gen_lookup_div(name,type,maxdiv) const type name[maxdiv+1]={frontslice(maxdiv,0,1,0.5,0.3333333333333333,0.25,0.2,0.16666666666666666,0.14285714285714285,0.125,0.1111111111111111,0.1,0.09090909090909091,0.08333333333333333,0.07692307692307693,0.07142857142857142,0.06666666666666667,0.0625,0.058823529411764705,0.05555555555555555,0.05263157894736842,0.05,0.047619047619047616,0.045454545454545456,0.043478260869565216,0.041666666666666664,0.04,0.038461538461538464,0.037037037037037035,0.03571428571428571,0.034482758620689655,0.03333333333333333,0.03225806451612903,0.03125,0.030303030303030304,0.029411764705882353,0.02857142857142857,0.027777777777777776,0.02702702702702703,0.02631578947368421,0.02564102564102564,0.025,0.024390243902439025,0.023809523809523808,0.023255813953488372,0.022727272727272728,0.022222222222222223,0.021739130434782608,0.02127659574468085,0.020833333333333332,0.02040816326530612,0.02,0.0196078431372549,0.019230769230769232,0.018867924528301886,0.018518518518518517,0.01818181818181818,0.017857142857142856,0.017543859649122806,0.017241379310344827,0.01694915254237288,0.016666666666666666,0.01639344262295082,0.016129032258064516,0.015873015873015872,0.015625,0.015384615384615385,0.015151515151515152,0.014925373134328358,0.014705882352941176,0.014492753623188406,0.014285714285714285,0.014084507042253521,0.013888888888888888,0.0136986301369863,0.013513513513513514,0.013333333333333334,0.013157894736842105,0.012987012987012988,0.01282051282051282,0.012658227848101266,0.0125,0.012345679012345678,0.012195121951219513,0.012048192771084338,0.011904761904761904,0.011764705882352941,0.011627906976744186,0.011494252873563218,0.011363636363636364,0.011235955056179775,0.011111111111111112,0.01098901098901099,0.010869565217391304,0.010752688172043012,0.010638297872340425,0.010526315789473684,0.010416666666666666,0.010309278350515464,0.01020408163265306,0.010101010101010102,0.01,0.009900990099009901,0.00980392156862745,0.009708737864077669,0.009615384615384616,0.009523809523809525,0.009433962264150943,0.009345794392523364,0.009259259259259259,0.009174311926605505,0.00909090909090909,0.009009009009009009,0.008928571428571428,0.008849557522123894,0.008771929824561403,0.008695652173913044,0.008620689655172414,0.008547008547008548,0.00847457627118644,0.008403361344537815,0.008333333333333333,0.008264462809917356,0.00819672131147541,0.008130081300813009,0.008064516129032258,0.008,0.007936507936507936,0.007874015748031496,0.0078125,0.007751937984496124,0.007692307692307693,0.007633587786259542,0.007575757575757576,0.007518796992481203,0.007462686567164179,0.007407407407407408,0.007352941176470588,0.0072992700729927005,0.007246376811594203,0.007194244604316547,0.007142857142857143,0.0070921985815602835,0.007042253521126761,0.006993006993006993,0.006944444444444444,0.006896551724137931,0.00684931506849315,0.006802721088435374,0.006756756756756757,0.006711409395973154,0.006666666666666667,0.006622516556291391,0.006578947368421052,0.006535947712418301,0.006493506493506494,0.0064516129032258064,0.00641025641025641,0.006369426751592357,0.006329113924050633,0.006289308176100629,0.00625,0.006211180124223602,0.006172839506172839,0.006134969325153374,0.006097560975609756,0.006060606060606061,0.006024096385542169,0.005988023952095809,0.005952380952380952,0.005917159763313609,0.0058823529411764705,0.005847953216374269,0.005813953488372093,0.005780346820809248,0.005747126436781609,0.005714285714285714,0.005681818181818182,0.005649717514124294,0.0056179775280898875,0.00558659217877095,0.005555555555555556,0.0055248618784530384,0.005494505494505495,0.00546448087431694,0.005434782608695652,0.005405405405405406,0.005376344086021506,0.0053475935828877,0.005319148936170213,0.005291005291005291,0.005263157894736842,0.005235602094240838,0.005208333333333333,0.0051813471502590676,0.005154639175257732,0.005128205128205128,0.00510204081632653,0.005076142131979695,0.005050505050505051,0.005025125628140704,0.005,0.004975124378109453,0.0049504950495049506,0.0049261083743842365,0.004901960784313725,0.004878048780487805,0.0048543689320388345,0.004830917874396135,0.004807692307692308,0.004784688995215311,0.004761904761904762,0.004739336492890996,0.0047169811320754715,0.004694835680751174,0.004672897196261682,0.004651162790697674,0.004629629629629629,0.004608294930875576,0.0045871559633027525,0.0045662100456621,0.004545454545454545,0.004524886877828055,0.0045045045045045045,0.004484304932735426,0.004464285714285714,0.0044444444444444444,0.004424778761061947,0.004405286343612335,0.0043859649122807015,0.004366812227074236,0.004347826086956522,0.004329004329004329,0.004310344827586207,0.004291845493562232,0.004273504273504274,0.00425531914893617,0.00423728813559322,0.004219409282700422,0.004201680672268907,0.0041841004184100415,0.004166666666666667,0.004149377593360996,0.004132231404958678,0.00411522633744856,0.004098360655737705,0.004081632653061225,0.0040650406504065045,0.004048582995951417,0.004032258064516129,0.004016064257028112,0.004,0.00398406374501992,0.003968253968253968,0.003952569169960474,0.003937007874015748,0.00392156862745098,0.00390625,0.0038910505836575876,0.003875968992248062,0.003861003861003861,0.0038461538461538464,0.0038314176245210726,0.003816793893129771,0.0038022813688212928,0.003787878787878788,0.0037735849056603774,0.0037593984962406013,0.003745318352059925,0.0037313432835820895,0.0037174721189591076,0.003703703703703704,0.0036900369003690036,0.003676470588235294,0.003663003663003663,0.0036496350364963502,0.0036363636363636364,0.0036231884057971015,0.0036101083032490976,0.0035971223021582736,0.0035842293906810036,0.0035714285714285713,0.0035587188612099642,0.0035460992907801418,0.0035335689045936395,0.0035211267605633804,0.0035087719298245615,0.0034965034965034965,0.003484320557491289,0.003472222222222222,0.0034602076124567475,0.0034482758620689655,0.003436426116838488,0.003424657534246575,0.0034129692832764505,0.003401360544217687,0.003389830508474576,0.0033783783783783786,0.003367003367003367,0.003355704697986577,0.0033444816053511705,0.0033333333333333335,0.0033222591362126247,0.0033112582781456954,0.0033003300330033004,0.003289473684210526,0.003278688524590164,0.0032679738562091504,0.003257328990228013,0.003246753246753247,0.003236245954692557,0.0032258064516129032,0.003215434083601286,0.003205128205128205,0.003194888178913738,0.0031847133757961785,0.0031746031746031746,0.0031645569620253164,0.0031545741324921135,0.0031446540880503146,0.003134796238244514,0.003125,0.003115264797507788,0.003105590062111801,0.0030959752321981426,0.0030864197530864196,0.003076923076923077,0.003067484662576687,0.0030581039755351682,0.003048780487804878,0.00303951367781155,0.0030303030303030303,0.0030211480362537764,0.0030120481927710845,0.003003003003003003,0.0029940119760479044,0.0029850746268656717,0.002976190476190476,0.002967359050445104,0.0029585798816568047,0.0029498525073746312,0.0029411764705882353,0.002932551319648094,0.0029239766081871343,0.0029154518950437317,0.0029069767441860465,0.002898550724637681,0.002890173410404624,0.002881844380403458,0.0028735632183908046,0.0028653295128939827,0.002857142857142857,0.002849002849002849,0.002840909090909091,0.0028328611898017,0.002824858757062147,0.0028169014084507044,0.0028089887640449437,0.0028011204481792717,0.002793296089385475,0.002785515320334262,0.002777777777777778,0.002770083102493075,0.0027624309392265192,0.0027548209366391185,0.0027472527472527475,0.0027397260273972603,0.00273224043715847,0.0027247956403269754,0.002717391304347826,0.0027100271002710027,0.002702702702702703,0.0026954177897574125,0.002688172043010753,0.002680965147453083,0.00267379679144385,0.0026666666666666666,0.0026595744680851063,0.002652519893899204,0.0026455026455026454,0.002638522427440633,0.002631578947368421,0.0026246719160104987,0.002617801047120419,0.0026109660574412533,0.0026041666666666665,0.0025974025974025974,0.0025906735751295338,0.002583979328165375,0.002577319587628866,0.002570694087403599,0.002564102564102564,0.0025575447570332483,0.002551020408163265,0.002544529262086514,0.0025380710659898475,0.002531645569620253,0.0025252525252525255,0.0025188916876574307,0.002512562814070352,0.002506265664160401,0.0025,0.0024937655860349127,0.0024875621890547263,0.0024813895781637717,0.0024752475247524753,0.0024691358024691358,0.0024630541871921183,0.002457002457002457,0.0024509803921568627,0.0024449877750611247,0.0024390243902439024,0.0024330900243309003,0.0024271844660194173,0.002421307506053269,0.0024154589371980675,0.0024096385542168677,0.002403846153846154,0.002398081534772182,0.0023923444976076554,0.002386634844868735,0.002380952380952381,0.0023752969121140144,0.002369668246445498,0.002364066193853428,0.0023584905660377358,0.002352941176470588,0.002347417840375587,0.00234192037470726,0.002336448598130841,0.002331002331002331,0.002325581395348837,0.002320185614849188,0.0023148148148148147,0.0023094688221709007,0.002304147465437788,0.0022988505747126436,0.0022935779816513763,0.002288329519450801,0.00228310502283105,0.002277904328018223,0.0022727272727272726,0.0022675736961451248,0.0022624434389140274,0.002257336343115124,0.0022522522522522522,0.0022471910112359553,0.002242152466367713,0.0022371364653243847,0.002232142857142857,0.0022271714922048997,0.0022222222222222222,0.0022172949002217295,0.0022123893805309734,0.002207505518763797,0.0022026431718061676,0.002197802197802198,0.0021929824561403508,0.002188183807439825,0.002183406113537118,0.002178649237472767,0.002173913043478261,0.0021691973969631237,0.0021645021645021645,0.0021598272138228943,0.0021551724137931034,0.002150537634408602,0.002145922746781116,0.0021413276231263384,0.002136752136752137,0.0021321961620469083,0.002127659574468085,0.0021231422505307855,0.00211864406779661,0.0021141649048625794,0.002109704641350211,0.002105263157894737,0.0021008403361344537,0.0020964360587002098,0.0020920502092050207,0.0020876826722338203,0.0020833333333333333,0.002079002079002079,0.002074688796680498,0.002070393374741201,0.002066115702479339,0.002061855670103093,0.00205761316872428,0.002053388090349076,0.0020491803278688526,0.002044989775051125,0.0020408163265306124,0.002036659877800407,0.0020325203252032522,0.002028397565922921,0.0020242914979757085,0.00202020202020202,0.0020161290322580645,0.002012072434607646,0.002008032128514056,0.002004008016032064,0.002,0.001996007984031936,0.00199203187250996,0.0019880715705765406,0.001984126984126984,0.0019801980198019802,0.001976284584980237,0.0019723865877712033,0.001968503937007874,0.0019646365422396855,0.00196078431372549,0.0019569471624266144,0.001953125,0.001949317738791423,0.0019455252918287938,0.001941747572815534,0.001937984496124031,0.0019342359767891683,0.0019305019305019305,0.0019267822736030828,0.0019230769230769232,0.0019193857965451055,0.0019157088122605363,0.0019120458891013384,0.0019083969465648854,0.0019047619047619048,0.0019011406844106464,0.0018975332068311196,0.001893939393939394,0.001890359168241966,0.0018867924528301887,0.0018832391713747645,0.0018796992481203006,0.001876172607879925,0.0018726591760299626,0.001869158878504673,0.0018656716417910447,0.00186219739292365,0.0018587360594795538,0.0018552875695732839,0.001851851851851852,0.0018484288354898336,0.0018450184501845018,0.001841620626151013,0.001838235294117647,0.001834862385321101,0.0018315018315018315,0.0018281535648994515,0.0018248175182481751,0.0018214936247723133,0.0018181818181818182,0.0018148820326678765,0.0018115942028985507,0.0018083182640144665,0.0018050541516245488,0.0018018018018018018,0.0017985611510791368,0.0017953321364452424,0.0017921146953405018,0.0017889087656529517,0.0017857142857142857,0.0017825311942959,0.0017793594306049821,0.0017761989342806395,0.0017730496453900709,0.0017699115044247787,0.0017667844522968198,0.001763668430335097,0.0017605633802816902,0.0017574692442882249,0.0017543859649122807,0.0017513134851138354,0.0017482517482517483,0.0017452006980802793,0.0017421602787456446,0.0017391304347826088,0.001736111111111111,0.0017331022530329288,0.0017301038062283738,0.0017271157167530224,0.0017241379310344827,0.0017211703958691911,0.001718213058419244,0.0017152658662092624,0.0017123287671232876,0.0017094017094017094,0.0017064846416382253,0.0017035775127768314,0.0017006802721088435,0.001697792869269949,0.001694915254237288,0.001692047377326565,0.0016891891891891893,0.0016863406408094434,0.0016835016835016834,0.0016806722689075631,0.0016778523489932886,0.0016750418760469012,0.0016722408026755853,0.001669449081803005,0.0016666666666666668,0.0016638935108153079,0.0016611295681063123,0.001658374792703151,0.0016556291390728477,0.001652892561983471,0.0016501650165016502,0.0016474464579901153,0.001644736842105263,0.0016420361247947454,0.001639344262295082,0.0016366612111292963,0.0016339869281045752,0.0016313213703099511,0.0016286644951140066,0.0016260162601626016,0.0016233766233766235,0.0016207455429497568,0.0016181229773462784,0.0016155088852988692,0.0016129032258064516,0.001610305958132045,0.001607717041800643,0.0016051364365971107,0.0016025641025641025,0.0016,0.001597444089456869,0.001594896331738437,0.0015923566878980893,0.001589825119236884,0.0015873015873015873,0.001584786053882726,0.0015822784810126582,0.001579778830963665,0.0015772870662460567,0.0015748031496062992,0.0015723270440251573,0.0015698587127158557,0.001567398119122257,0.001564945226917058,0.0015625,0.0015600624024961,0.001557632398753894,0.0015552099533437014,0.0015527950310559005,0.0015503875968992248,0.0015479876160990713,0.0015455950540958269,0.0015432098765432098,0.0015408320493066256,0.0015384615384615385,0.0015360983102918587,0.0015337423312883436,0.0015313935681470138,0.0015290519877675841,0.0015267175572519084,0.001524390243902439,0.0015220700152207,0.001519756838905775,0.0015174506828528073,0.0015151515151515152,0.0015128593040847202,0.0015105740181268882,0.0015082956259426848,0.0015060240963855422,0.0015037593984962407,0.0015015015015015015,0.0014992503748125937,0.0014970059880239522,0.0014947683109118087,0.0014925373134328358,0.0014903129657228018,0.001488095238095238,0.0014858841010401188,0.001483679525222552,0.0014814814814814814,0.0014792899408284023,0.0014771048744460858,0.0014749262536873156,0.0014727540500736377,0.0014705882352941176,0.0014684287812041115,0.001466275659824047,0.0014641288433382138,0.0014619883040935672,0.00145985401459854,0.0014577259475218659,0.001455604075691412,0.0014534883720930232,0.001451378809869376,0.0014492753623188406,0.001447178002894356,0.001445086705202312,0.001443001443001443,0.001440922190201729,0.0014388489208633094,0.0014367816091954023,0.0014347202295552368,0.0014326647564469914,0.001430615164520744,0.0014285714285714286,0.0014265335235378032,0.0014245014245014246,0.001422475106685633,0.0014204545454545455,0.0014184397163120568,0.00141643059490085,0.0014144271570014145,0.0014124293785310734,0.0014104372355430183,0.0014084507042253522,0.0014064697609001407,0.0014044943820224719,0.001402524544179523,0.0014005602240896359,0.0013986013986013986,0.0013966480446927375,0.001394700139470014,0.001392757660167131,0.0013908205841446453,0.001388888888888889,0.0013869625520110957,0.0013850415512465374,0.0013831258644536654,0.0013812154696132596,0.001379310344827586,0.0013774104683195593,0.001375515818431912,0.0013736263736263737,0.0013717421124828531,0.0013698630136986301,0.0013679890560875513,0.001366120218579235,0.001364256480218281,0.0013623978201634877,0.0013605442176870747,0.001358695652173913,0.0013568521031207597,0.0013550135501355014,0.0013531799729364006,0.0013513513513513514,0.001349527665317139,0.0013477088948787063,0.0013458950201884253,0.0013440860215053765,0.0013422818791946308,0.0013404825737265416,0.0013386880856760374,0.001336898395721925,0.0013351134846461949,0.0013333333333333333,0.0013315579227696406,0.0013297872340425532,0.0013280212483399733,0.001326259946949602,0.0013245033112582781,0.0013227513227513227,0.001321003963011889,0.0013192612137203166,0.0013175230566534915,0.0013157894736842105,0.001314060446780552,0.0013123359580052493,0.001310615989515072,0.0013089005235602095,0.00130718954248366,0.0013054830287206266,0.001303780964797914,0.0013020833333333333,0.0013003901170351106,0.0012987012987012987,0.0012970168612191958,0.0012953367875647669,0.00129366106080207,0.0012919896640826874,0.0012903225806451613,0.001288659793814433,0.001287001287001287,0.0012853470437017994,0.0012836970474967907,0.001282051282051282,0.0012804097311139564,0.0012787723785166241,0.001277139208173691,0.0012755102040816326,0.0012738853503184713,0.001272264631043257,0.0012706480304955528,0.0012690355329949238,0.0012674271229404308,0.0012658227848101266,0.0012642225031605564,0.0012626262626262627,0.0012610340479192938,0.0012594458438287153,0.0012578616352201257,0.001256281407035176,0.0012547051442910915,0.0012531328320802004,0.0012515644555694619,0.00125,0.0012484394506866417,0.0012468827930174563,0.0012453300124533001,0.0012437810945273632,0.0012422360248447205,0.0012406947890818859,0.0012391573729863693,0.0012376237623762376,0.0012360939431396785,0.0012345679012345679,0.0012330456226880395,0.0012315270935960591,0.0012300123001230013,0.0012285012285012285,0.001226993865030675,0.0012254901960784314,0.0012239902080783353,0.0012224938875305623,0.001221001221001221,0.0012195121951219512,0.001218026796589525,0.0012165450121654502,0.001215066828675577,0.0012135922330097086,0.0012121212121212121,0.0012106537530266344,0.0012091898428053204,0.0012077294685990338,0.0012062726176115801,0.0012048192771084338,0.0012033694344163659,0.001201923076923077,0.0012004801920768306,0.001199040767386091,0.0011976047904191617,0.0011961722488038277,0.0011947431302270011,0.0011933174224343676,0.0011918951132300357,0.0011904761904761906,0.0011890606420927466,0.0011876484560570072,0.0011862396204033216,0.001184834123222749,0.001183431952662722,0.001182033096926714,0.0011806375442739079,0.0011792452830188679,0.001177856301531213,0.001176470588235294,0.0011750881316098707,0.0011737089201877935,0.0011723329425556857,0.00117096018735363,0.0011695906432748538,0.0011682242990654205,0.0011668611435239206,0.0011655011655011655,0.0011641443538998836,0.0011627906976744186,0.0011614401858304297,0.001160092807424594,0.0011587485515643105,0.0011574074074074073,0.0011560693641618498,0.0011547344110854503,0.0011534025374855825,0.001152073732718894,0.0011507479861910242,0.0011494252873563218,0.001148105625717566,0.0011467889908256881,0.001145475372279496,0.0011441647597254005,0.001142857142857143,0.001141552511415525,0.0011402508551881414,0.0011389521640091116,0.0011376564277588168,0.0011363636363636363,0.0011350737797956867,0.0011337868480725624,0.0011325028312570782,0.0011312217194570137,0.0011299435028248588,0.001128668171557562,0.0011273957158962795,0.0011261261261261261,0.0011248593925759281,0.0011235955056179776,0.001122334455667789,0.0011210762331838565,0.0011198208286674132,0.0011185682326621924,0.0011173184357541898,0.0011160714285714285,0.0011148272017837235,0.0011135857461024498,0.0011123470522803114,0.0011111111111111111,0.0011098779134295228,0.0011086474501108647,0.0011074197120708748,0.0011061946902654867,0.0011049723756906078,0.0011037527593818985,0.0011025358324145535,0.0011013215859030838,0.0011001100110011,0.001098901098901099,0.0010976948408342481,0.0010964912280701754,0.001095290251916758,0.0010940919037199124,0.001092896174863388,0.001091703056768559,0.0010905125408942203,0.0010893246187363835,0.001088139281828074,0.0010869565217391304,0.0010857763300760044,0.0010845986984815619,0.0010834236186348862,0.0010822510822510823,0.001081081081081081,0.0010799136069114472,0.0010787486515641855,0.0010775862068965517,0.001076426264800861,0.001075268817204301,0.0010741138560687433,0.001072961373390558,0.0010718113612004287,0.0010706638115631692,0.0010695187165775401,0.0010683760683760685,0.0010672358591248667,0.0010660980810234541,0.0010649627263045794,0.0010638297872340426,0.0010626992561105207,0.0010615711252653928,0.0010604453870625664,0.001059322033898305,0.0010582010582010583,0.0010570824524312897,0.0010559662090813093,0.0010548523206751054,0.001053740779768177,0.0010526315789473684,0.0010515247108307045,0.0010504201680672268,0.001049317943336831,0.0010482180293501049,0.0010471204188481676,0.0010460251046025104,0.0010449320794148381,0.0010438413361169101,0.0010427528675703858,0.0010416666666666667,0.001040582726326743,0.0010395010395010396,0.0010384215991692627,0.001037344398340249,0.0010362694300518134,0.0010351966873706005,0.001034126163391934,0.0010330578512396695,0.0010319917440660474,0.0010309278350515464,0.0010298661174047373,0.00102880658436214,0.0010277492291880781,0.001026694045174538,0.0010256410256410256,0.0010245901639344263,0.0010235414534288639,0.0010224948875255625,0.0010214504596527069,0.0010204081632653062,0.0010193679918450561,0.0010183299389002036,0.001017293997965412,0.0010162601626016261,0.0010152284263959391,0.0010141987829614604,0.0010131712259371835,0.0010121457489878543,0.0010111223458038423,0.00101010101010101,0.0010090817356205853,0.0010080645161290322,0.0010070493454179255,0.001006036217303823,0.0010050251256281408,0.001004016064257028,0.0010030090270812437,0.001002004008016032,0.001001001001001001,0.001,0.000999000999000999,0.000998003992015968,0.0009970089730807576,0.00099601593625498,0.0009950248756218905,0.0009940357852882703,0.0009930486593843098,0.000992063492063492,0.0009910802775024777,0.0009900990099009901,0.0009891196834817012,0.0009881422924901185,0.0009871668311944718,0.0009861932938856016,0.0009852216748768472,0.000984251968503937,0.0009832841691248771,0.0009823182711198428,0.0009813542688910696,0.000980392156862745,0.0009794319294809011,0.0009784735812133072,0.0009775171065493646)};
